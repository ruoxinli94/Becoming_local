<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Becoming - Growth Plan</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="assets/css/style.css">
    <style>
        .stair-container {
            padding: 20px;
            position: relative;
        }
        .stair-step {
            background-color: #f5f2e8;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            position: relative;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .step-year {
            font-weight: 700;
            font-size: 1.3rem;
            color: #333;
            margin-bottom: 5px;
        }
        .step-description {
            font-size: 0.95rem;
            color: #555;
            margin-bottom: 5px;
        }
        .step-details {
            font-size: 0.85rem;
            color: #666;
        }
        .plan-composer {
            position: fixed;
            bottom: 70px;
            left: 0;
            right: 0;
            background-color: white;
            padding: 15px;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            max-width: 480px;
            margin: 0 auto;
            z-index: 900;
        }
        .navigation-button {
            position: fixed;
            bottom: 80px;
            right: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: var(--primary-color);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            z-index: 1001;
            cursor: pointer;
            display: none;
        }
        .chat-body {
            padding-bottom: 120px;
        }
        #planConfirmed {
            display: none;
        }
    </style>
</head>
<body>
    <div class="mobile-container">
        <div class="chat-container">
            <div class="chat-header">
                <div class="d-flex align-items-center">
                    <img src="assets/images/avatar.png" alt="AI Coach" class="rounded-circle me-2" width="40">
                    <div>
                        <h5 class="mb-0">Growth Plan</h5>
                        <small>With AI Coach Maya</small>
                    </div>
                </div>
                <div class="ms-auto">
                    <a href="#" class="text-white"><i class="fas fa-ellipsis-v"></i></a>
                </div>
            </div>
            
            <div class="chat-body">
                <div class="message message-bot">
                    <p>Based on your future self letter, I've created a 5-year growth plan to help you become a Director/VP of Product in GenAI. Here's the breakdown:</p>
                    <span class="message-time">10:30 AM</span>
                </div>
                
                <div class="stair-container">
                    <div class="stair-step mb-4">
                        <div class="step-year">Year 5: Director/VP of Product</div>
                        <div class="step-description">Achieve your target role in leadership</div>
                    </div>
                    
                    <div class="stair-step mb-4 ms-3">
                        <div class="step-year">Year 4: Develop Strategic Impact</div>
                        <div class="step-description">Make a wider impact across the organization and refine strategic thinking</div>
                    </div>
                    
                    <div class="stair-step mb-4 ms-5">
                        <div class="step-year">Year 3: Take on Leadership</div>
                        <div class="step-description">Start taking on greater leadership responsibilities, using a progress tracker to monitor growth</div>
                    </div>
                    
                    <div class="stair-step mb-4 ms-5 me-3">
                        <div class="step-year">Year 2: Gain Visibility</div>
                        <div class="step-description">Work on getting more org-wide visibility, by leveraging community support</div>
                    </div>
                    
                    <div class="stair-step mb-4 ms-5 me-5">
                        <div class="step-year">Year 1: Build Core Skills</div>
                        <div class="step-description">Focus on developing core product management competencies, with growth plan guiding progress</div>
                    </div>
                </div>
                
                <div class="message message-bot">
                    <p>Let's start with Year 1. We'll focus on developing core product management skills that will serve as your foundation. Would you like to adjust any parts of this growth plan before we begin?</p>
                    <span class="message-time">10:35 AM</span>
                </div>
                
                <div id="planConfirmed" class="message message-bot">
                    <p>Great! Your 5-year growth plan is confirmed. Let's break down what your weekly tasks will look like for Year 1: Building Core Skills.</p>
                    <span class="message-time">10:40 AM</span>
                </div>
            </div>
            
            <div class="plan-composer">
                <div class="chat-input-container">
                    <input type="text" class="chat-input" id="planInput" placeholder="Confirm the plan or suggest adjustments...">
                    <button class="chat-send-btn" id="sendPlanBtn">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
            
            <div class="navigation-button" id="nextButton">
                <i class="fas fa-arrow-right"></i>
            </div>
        </div>
        
        <!-- Bottom Navigation -->
        <div class="bottom-nav">
            <a href="chatbot.html" class="nav-item">
                <i class="nav-icon fas fa-comment-alt"></i>
                <span>Coach</span>
            </a>
            <a href="growth-plan.html" class="nav-item active">
                <i class="nav-icon fas fa-chart-line"></i>
                <span>Growth</span>
            </a>
            <a href="daily-tracker.html" class="nav-item">
                <i class="nav-icon fas fa-tasks"></i>
                <span>Tasks</span>
            </a>
            <a href="journaling.html" class="nav-item">
                <i class="nav-icon fas fa-book"></i>
                <span>Journal</span>
            </a>
            <a href="scheduler.html" class="nav-item">
                <i class="nav-icon fas fa-calendar-alt"></i>
                <span>Schedule</span>
            </a>
        </div>
    </div>
    
    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="assets/js/script.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const planInput = document.getElementById('planInput');
            const sendPlanBtn = document.getElementById('sendPlanBtn');
            const chatBody = document.querySelector('.chat-body');
            const planConfirmed = document.getElementById('planConfirmed');
            const nextButton = document.getElementById('nextButton');
            
            sendPlanBtn.addEventListener('click', handlePlanResponse);
            planInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    handlePlanResponse();
                }
            });
            
            nextButton.addEventListener('click', function() {
                window.location.href = 'weekly-tasks.html';
            });
            
            function handlePlanResponse() {
                const message = planInput.value.trim();
                
                if (!message) return;
                
                // Add user message
                const userMessageHTML = `
                    <div class="message message-user">
                        <p>${message}</p>
                        <span class="message-time">Just now</span>
                    </div>
                `;
                
                chatBody.insertAdjacentHTML('beforeend', userMessageHTML);
                planInput.value = '';
                
                // Scroll to bottom
                chatBody.scrollTop = chatBody.scrollHeight;
                
                // Check if the user confirmed the plan
                if (message.toLowerCase() === 'lgtm' || 
                    message.toLowerCase().includes('looks good') || 
                    message.toLowerCase().includes('good to me') || 
                    message.toLowerCase().includes('confirm') || 
                    message.toLowerCase().includes('sounds good') || 
                    message.toLowerCase().includes('i like it')) {
                    
                    // Show confirmation and next button
                    planConfirmed.style.display = 'block';
                    nextButton.style.display = 'flex';
                    
                    // Scroll to bottom again
                    setTimeout(() => {
                        chatBody.scrollTop = chatBody.scrollHeight;
                    }, 100);
                } else {
                    // User suggested adjustments
                    setTimeout(() => {
                        const botResponseHTML = `
                            <div class="message message-bot">
                                <p>Thanks for your input! I've noted your suggestions. Would you like to make any additional changes, or shall we proceed with this adjusted plan?</p>
                                <span class="message-time">Just now</span>
                            </div>
                        `;
                        
                        chatBody.insertAdjacentHTML('beforeend', botResponseHTML);
                        chatBody.scrollTop = chatBody.scrollHeight;
                    }, 1000);
                }
            }
        });
    </script>
</body>
</html>